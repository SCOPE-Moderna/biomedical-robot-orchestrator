<script type="text/javascript">
  RED.nodes.registerType("xpeel-xpeel", {
    category: "xpeel",
    color: "#40E0D0",
    defaults: {
      set_number: {
        value: "1",
        validate: (input) => !isNaN(input) && input >= 1 && input <= 9,
      },
      adhere_time: {
        value: "1",
        validate: (input) => !isNaN(input) && input >= 1 && input <= 4,
      },
      instrument_id: {
        value: "0",
        validate: RED.validators.number(false),
        required: true,
      },
    },
    inputs: 1,
    outputs: 1,
    icon: "feed.svg",
    label: function () {
      return `(${this.instrument_id}) XPeel: XPeel`;
    },
    paletteLabel: "XPeel: XPeel",
  });
</script>

<script type="text/html" data-template-name="xpeel-xpeel">
  <div class="form-row">
    <label for="node-input-set_number"
      ><i class="fa fa-tag"></i> Set Number</label
    >
    <table>
      <thead>
        <tr>
          <th>Set Number</th>
          <th>Begin Peel Location</th>
          <th>Speed</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Set 1</td>
          <td>Default -2 mm</td>
          <td>fast</td>
        </tr>
        <tr>
          <td>Set 2</td>
          <td>Default -2 mm</td>
          <td>slow</td>
        </tr>
        <tr>
          <td>Set 3</td>
          <td>Default</td>
          <td>fast</td>
        </tr>
        <tr>
          <td>Set 4</td>
          <td>Default</td>
          <td>slow</td>
        </tr>
        <tr>
          <td>Set 5</td>
          <td>Default +2 mm</td>
          <td>fast</td>
        </tr>
        <tr>
          <td>Set 6</td>
          <td>Default +2 mm</td>
          <td>slow</td>
        </tr>
        <tr>
          <td>Set 7</td>
          <td>Default +4 mm</td>
          <td>fast</td>
        </tr>
        <tr>
          <td>Set 8</td>
          <td>Default +4 mm</td>
          <td>slow</td>
        </tr>
        <tr>
          <td>Set 9</td>
          <td>custom</td>
          <td>custom</td>
        </tr>
      </tbody>
    </table>
    <input type="number" id="node-input-set_number" placeholder="1-9" />
  </div>
  <div class="form-row">
    <label for="node-input-adhere_time"
      ><i class="fa fa-tag"></i>Adhere Time</label
    >
    <table>
      <thead>
        <tr>
          <th>Value</th>
          <th>Duration (seconds)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>2.5 seconds</td>
        </tr>
        <tr>
          <td>2</td>
          <td>5 seconds</td>
        </tr>
        <tr>
          <td>3</td>
          <td>7.5 seconds</td>
        </tr>
        <tr>
          <td>4</td>
          <td>10 seconds</td>
        </tr>
      </tbody>
    </table>
    <input type="number" id="node-input-adhere_time" placeholder="1-4" />
  </div>
  <div class="form-row">
    <h1>Instrument ID</h1>
    <label for="node-input-instrument_id"
      ><i class="fa fa-id-card-o"></i> Instrument ID</label
    >
    <p>
      ID of the instrument you'd like this node to control. IDs are configured
      in the database.
    </p>
    <input type="number" id="node-input-instrument_id" placeholder="1" />
  </div>
</script>

<script type="text/html" data-help-name="xpeel-xpeel">
  <p>Peel a plate.</p>
</script>
